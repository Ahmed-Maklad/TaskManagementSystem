@{
    ViewData["Title"] = "Create Task";
}

<h2>@ViewData["Title"]</h2>

@if (ViewData["Message"] != null)
{
    <div class="alert alert-danger">
        @ViewData["Message"]
    </div>
}

<form method="post">
    <div class="form-group">
        <label for="Name">Task Name</label>
        <input type="text" id="Name" name="Name" class="form-control" />
    </div>
    <div class="form-group">
        <label for="Description">Description</label>
        <textarea id="Description" name="Description" class="form-control"></textarea>
    </div>
    <div class="form-group">
        <label for="Priority">Priority</label>
        <select id="Priority" name="Priority" class="form-control">
            <option value="1">High</option>
            <option value="2">Medium</option>
            <option value="3">Low</option>
        </select>
    </div>
    <div class="form-group">
        
        @if (Model.IsAdmin) 
        {
            <label for="AssignedUserId">Assigned User</label>
            <select id="AssignedUserId" name="AssignedUserId" class="form-control">
                @foreach (var user in Model.Users)
                {
                    <option value="@user.Value">@user.Text</option>
                }
            </select>
        }
        else 
        {
            <input type="hidden" name="AssignedUserId" value="@Model.AssignedUserId" />
        }
    </div>
    <div class="form-group">
        <label for="DueDate">Due Date</label>
        <input type="date" id="DueDate" name="DueDate" class="form-control" />
    </div>
    <button type="submit" class="btn btn-primary">Create Task</button>
</form>
